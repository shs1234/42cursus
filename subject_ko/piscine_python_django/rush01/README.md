# **Rush01 - Piscine Python-Django**

러쉬01

거의 다 왔어요!

_요약: 진짜 프로젝트를 만들어 볼 시간입니다!_

##### _번역 오류 및 오역 제보는 42seoul_club_translate 채널 또는 @jiychoi 로 연락주세요._

<br>

# Contents

| Chapter | Contents                                                | page |
| :-----: | :------------------------------------------------------ | :--: |
|    1    | [**Instructions**](#Chapter-1)                          |  2   |
|    2    | [**Specific rules of the day**](#Chapter-2)             |  3   |
|    3    | [**Preamble**](#Chapter-3)                              |  4   |
|    4    | [**Mandatory part**](#Chapter-4)                        |  5   |
|   4.1   | [**Basic Project**](#Chapter-4.1)                       |  5   |
|  4.1.1  | [**An HTTP configuration**](#Chapter-4.1.1)             |  5   |
|  4.1.2  | [**An authentification system**](#Chapter-4.1.2)        |  5   |
|  4.1.3  | [**A homepage**](#Chapter-4.1.3)                        |  6   |
|  4.1.4  | [**Manage the user's profiles**](#Chapter-4.1.4)        |  6   |
|   4.2   | [**Choice of functionality**](#Chapter-4.2)             |  7   |
|  4.2.1  | [**Forum**](#Chapter-4.2.1)                             |  7   |
|  4.2.2  | [**A messanger system**](#Chapter-4.2.2)                |  7   |
|    5    | [**Optional part**](#Chapter-5)                         |  9   |
|  5.0.1  | [**Forum bonus: AJAX**](#Chapter-5.0.1)                 |  9   |
|  5.0.2  | [**Messanger bonus: using websockets**](#Chapter-5.0.2) |  9   |
|  5.0.3  | [**Push notifications**](#Chapter-5.0.3)                |  9   |
|  5.0.4  | [**SSL**](#Chapter-5.0.4)                               |  10  |
|  5.0.5  | [**Package**](#Chapter-5.0.5)                           |  10  |
|  5.0.5  | [**Voting system**](#Chapter-5.0.6)                     |  10  |

<br>

# **Chapter 1**

## Instructions

<br>

노골적인 모순이 없는 이상, 해당 지침은 Python Django Piscine 모든 날짜에 적용됩니다.

- 이 페이지에 있는 내용만이 레퍼런스로 적용됩니다. 루머를 믿지 마세요!

- 조심하세요! 과제를 제출하기 한 시간 전까지도 해당 문서는 변경될 수 있습니다.

- 이번 과제들은 난이도별로 배치되어 있습니다 - 쉬운 것부터 어려운 것 까지요. 만약 쉬운 과제가 제대로 작동하지 않으면, `우리는 절 대` 어려운 과제를 (완벽하게 구현하였더라도) 채점하지 않을 것입니다.

- 파일과 디렉토리에 적절한 권한 설정을 해 주었는지 확인하세요.

- 각 과제별로 **제출 필수사항**을 지키셔야 합니다.

- 여러분의 과제는 같은 피씨너들에게 채점받고 점수가 매겨질 것입니다.

- 그리고 그 뒤에, 뮬리넷이라는 프로그램에 의해 채점되고 점수가 매겨질 것입니다. 뮬리넷은 여러분의 과제를 정말 엄격하고 꼼꼼하게 채점할 것입니다. 또한 모든 작업은 자동으로 진행되므로, 여러분이 뮬리넷과 협상하는 것은 불가능합니다. 좋지 못한 결과를 깜짝 선물로 받고 싶지 않다면, 철저히 과제에 임하세요.

- 쉘 과제들은 `/bin/sh`에 의해 실행될 수 있어야 합니다.

- 여러분은 **절대로** 명시된 제출 파일 외의 다른 파일들을 폴더 내에 남겨두시면 **안됩니다.**

- 질문 있으세요? 오른쪽 동료에게 물어보세요. 아니면 왼쪽 동료한테 물어보세요.

- 여러분이 참고할 만한 가이드는 `Google / man / 인터넷` 등이 있습니다.

- 인트라나 슬랙의 피씬 채널에서 토의하는 것을 잊지 마세요!

- 예시를 꼼꼼히 살펴보세요. 과제에 명시되지 않은 상세한 부분들이 들어있을 수도 있으니까요..

<br>

# **Chapter 2**

## Specific rules of the day

<br>

- 오늘의 과제 수행 시에는, 다음과 같은 패키지를 사용할 수 있습니다. (여러분이 만들고 설치할 패키지에서도요.)

```
asgi-redis==0.14.1
asgiref==0.14.0
autobahn==0.16.0
channels==0.17.3
daphne==0.15.0
Django==1.9.5
django-bootstrap3==7.1.0
gunicorn==19.6.0
msgpack-python==0.4.8
Pillow==3.4.1
redis==2.10.5
six==1.10.0
Twisted==16.4.1
txaio==2.5.1
uWSGI==2.0.14
zope.interface==4.3.2
```

- JQuery와 Nginx도 쓰고 싶으면 쓰셔도 됩니다.

- 프로젝트를 원하는 대로 구성하세요.

- `pip` 파일 의존성을 잘 신경쓰세요.

- 평가 중에는, 평가자가 브라우저에서 코드를 마음껏 고쳐가면서 0점을 드리도록 노력할 수 있습니다. 이것을 염두에 두시고, 솔리드 프로젝트 방식으로 설계할 수 있도록 노력하세요.

- 레포지토리는 `git clone <repo> -/rush01` 커맨드를 사용하여 클론될 것입니다. 해당 경로에서도 프로젝트가 제대로 돌아갈 수 있도록 구성하세요.

<br>

# Chapter 3

## Preamble

최근 10년간 이그노벨상 수상자 목록입니다 :

- **2013 확률 상**: Bert Tolkamp, Marie Haskell, Fritha Langford, David Roberts and Colin Morgan

  소가 누워있는 기간이 길 수록 소가 일어날 확률이 높다는 사실, 소가 일어나 있을 때 다시 누울 확률을 구하는 것은 불가능하다는 것을 알아낸 공로

- **2013 평화상**: 벨라루스의 대통령 Alexander Lukashenko와 벨라루스 경찰

  많은 사람들이 있는 곳에서 박수를 치는 행위를 불법으로 규정하고, 팔이 한 쪽밖에 없는 사람을 해당 죄목으로 체포함

- **2013 심리학상**: Laurent Bègue, Brad Bushman, Oulmann Zerhouni, Baptiste Subra and Medhi Ourabah

  자신이 술에 취했다고 생각하는 사람들은 스스로가 매력적이라고 믿는다는 것을 실험을 통해 밝혀냄

- **2013 물리학상**: Kiyoshi Mabuchi, Kensei Tanaka, Daichi Uchijima and Rina Sakai

  땅바닥과 바나나껍질, 신발 바닥의 마찰 계수에 대한 연구

- **2014 뇌과학상**: Jiangang Liu, Jun Li, Lu Feng, Ling Li, Jie Tian and Kang Lee

  몇몇 사람들이 구워진 식빵 조각에서 예수의 얼굴을 발견하는 이유를 신경과학적으로 연구

- **2015 물리학상**: Patricia Yang and David Hu

  3키로 이상의 포유류가 소변을 누는 데에 21초 (오차범위 13초) 정도가 걸림을 증명

- **2015 생물학상**: Bruno Grossi, Omar Larach, Mauricio Canals, Rodrigo A. Vásquez and José Iriarte-Díaz

  엉덩이에 막대기를 붙인 닭은 조류가 아닌 공룡과 걸음걸이가 비슷해진다는 가설을 연구

- **2015 문학상**: Mark Dingemanse, Francisco Torreira and Nick J. Enfield

  전 세계 어떤 나라에도 "huh" 라는 단어가 있지만, 그 이유가 무엇인지 아무도 모른다는 사실을 발견

<br>

# Chapter 4

## Mandatory part

<br>

2주간의 피씬 기간을 아우를 두 번째 러쉬 과제입니다.

인트라넷을 제작하면서 여러분의 장고 스킬을 마음껏 뽐내보세요.

<br>

# Chapter 4.1

## Basic Project

<br>

다음과 같은 파트를 포함한 간단한 장고 프로젝트를 생성하셔야 합니다:

<br>

# Chapter 4.1.1

## An HTTP configuration

<br>

Nginx를 이용하여 프로젝트를 배포할 수 있도록 서버 설정을 해주어야 합니다. (절대로 쟝고 기본 개발용 서버를 사용하지 마세요. `DEBUG` 변수는 **_반드시_** `False`로 설정되어 있어야 합니다!!)

모든 기능은 해당 설정 하에 제대로 구동되어야 합니다. (만약 특정 기능이 `./manage.py runserver` 로는 동작하지만 `Nginx`로 구동이 안 된다면, 해당 기능은 동작하지 않는 것으로 간주합니다.)

<br>

# Chapter 4.1.2

## An authentification system

<br>

사용자가 연결되지 않았을 때 (로그아웃되었을 때) 가능한 동작들은 다음과 같습니다:

- 회원가입 창.

해당 페이지에는 유저명 (ID)와 비밀번호, 비밀번호 확인 필드 (비밀번호 관련 필드는 입력할 때 정보가 표시되면 안 됩니다) 가 포함되어야 합니다. 유저명이 이미 사용중인지, 비밀번호와 비밀번호 확인란이 동일한 값을 가지고 있는지 검증 과정이 필요합니다.

검증 과정이 완료되면, 해당 정보를 바탕으로 유저가 생성됩니다. 홈페이지 방문자는 만든 유저 계정으로 로그인한 뒤 홈페이지로 리디렉션됩니다.

> ℹ️ <br>
> 당연히, 비밀번호는 데이터베이스상에 명확히 저장되면 안 됩니다.

- 로그인 창.

해당 페이지는 유저명과 비밀번호를 입력하는 필드 (당연히 입력 시에 내용이 보여지면 안 됩니다) 로 구성됩니다. 실존하는 유저인지, 비밀번호는 제대로 입력되어서 로그인이 가능한지에 대한 검증 과정이 필요합니다.

검증 과정이 완료되면, 홈페이지 방문자가 해당 계정으로 로그인된 뒤 홈페이지로 리디렉션됩니다.

로그인이 완료되고 나서부터는, 해당 두 페이지에 접근할 수 없습니다. 대신 로그아웃 버튼에 접근가능하도록 바뀌어야 합니다.

<br>

# Chapter 4.1.3

## A Homepage

<br>

여러분이 구현하고자 하는 기능이 모두 담긴 홈페이지를 만드세요.

<br>

# Chapter 4.1.4

## Manage the user's profiles

<br>

각 유저별로 여러 정보들을 받아서 저장할 수 있습니다. 예를 들면:

- 이름.

- 성. (surname)

- 이메일.

- 설명.

- 프로필 이미지.

각 유저 (와 관리자) 는 본인의 프로필 내용을 확인하고 정보를 업데이트할 수 있어야 합니다.

관리자는 다른 유저에게 관리자 권한을 부여하거나 취소할 수 있어야 합니다. (또한 누가 관리자인지 명확하게 표시되어야 합니다.)

관리자는 여러 권한들을 가진 슈퍼유저가 될 수도 있고, 그룹 중 하나로 존재할 수도 있습니다. 마음대로 구현하세요.

<br>

# Chapter 4.2

## Choice of functionality

<br>

이상의 사항을 완료하면, 아래의 기능들 중 적어도 하나 또는 둘 중 하나를 구현해야 합니다. (둘 다 하면 당연히 높은 점수를 받지요.)

<br>

# Chapter 4.2.1

## Forum

<br>

간단한 포럼을 만드세요. 게시물 등록 (post) 시스템을 구현하여야 합니다.

각 게시물들은 페이지당 10개씩만 표시되어야 합니다. (10개가 넘어갈 경우, 페이지 시스템을 구현하세요.)

게시물 리스트에서 링크를 클릭하면 해당 게시물을 확인할 수 있도록 링크를 구현하세요.

각 게시물에는 제목과 작성자, 내용, 작성 날짜와 시간이 댓글 묶음과 함께 포함되어야 합니다.

댓글에는 내용과 생성 날짜와 시간, 작성자가 포함되어 있어야 합니다.

게시물의 상세 내용 페이지에서는 게시물 관련 모든 정보와 함께 댓글까지 표시되어야 합니다. (당연히 댓글의 상세 정보도요.)

게시물에 댓글을 달거나, 댓글에 대댓글을 다는 기능이 모두 구현되어야 합니다. (댓글 목록은 트리 형식으로 구현될 것입니다.) 화면에서는 어떤 대댓글이 어느 요소의 하위 댓글인지 명확하게 표시되어야 합니다. (게시글의 댓글인지, 댓글의 하위 댓글인지 등)

모든 유저들은 게시물을 올리거나 댓글을 달 수 있어야 합니다.

<br>

# Chapter 4.2.2

## A messanger system

<br>

여러분의 메신저 시스템은 유저들이 다른 유저들에게 다이렉트 메시지를 보내 소통할 수 있도록 구현되어야 합니다.

대화는 반드시 _서로 다른_ 두 명의 유저 사이에서 이루어져야 합니다. (또한 대화 내용은 해당 두 유저만 접근할 수 있습니다.)

메신저 시스템은 다음의 두 페이지로 구성되어야 합니다:

- 현재 로그인한 유저가 _진행중인_ 대화들 목록을 표시하는 페이지. 각 대화마다 리스트에 가장 최근에 수신받거나 보낸 메시지의 정보가 같이 표시되어야 합니다 (시간/날짜, 30글자로 제한된 내용, 연락처...)

대화 목록은 한 페이지에 10개씩 표시되어야 하며, 그 이상의 대화가 진행되고 있을 경우 페이지를 통해 접근할 수 있도록 만들어야 합니다.

각 대화 리스트마다, 상세 페이지로 이동할 수 있는 링크가 존재해야 합니다.

또한 다른 유저의 프로필에 대화를 시작할 수 있는 링크를 추가하여야 합니다. (만약 대화가 한번도 진행된 적 없다면요)

- 각 대화의 상세 내용.

시간 순으로 대화가 정렬되어 리스트로 보여야 하고, 대화의 내용과 보낸 날짜/시간이 같이 표시되어야 합니다.

메시지가 제대로 송신되었는지, 수신되었는지 여부가 명확하게 눈에 보여야 합니다.

대화를 나누고 있는 유저들이 누군지도 제대로 보여야 합니다.

<br>

# Chapter 5

## Optional part

<br>

필수 파트가 제대로 완료되었다면, 다음과 같은 두 기능 중 하나를 보너스로 수행하세요:

<br>

# Chapter 5.0.1

## Forum bonus: AJAX

<br>

AJAX 기능 구현.

댓글 폼을 보기 위해 페이지를 새로고침할 필요가 없어야 합니다. 댓글 폼을 채우고, 전송만 하면 서버 측 검증 완료 후 즉각적으로 변화가 눈에 띄어야 하고, 이것이 반복되어야 합니다.

이 보너스는 여러분이 포럼 (게시판) 을 필수 파트로 제작하였을 때에 적용됩니다.

<br>

# Chapter 5.0.2

## Messanger bonus: using websockets

<br>

메신저 시스템에 웹소켓 사용.

페이지를 새로고침할 필요 없이 새로운 메시지가 바로 대화 창 스레드에 표시되어야 합니다.

이 보너스는 여러분이 메신저 시스템 (채팅방) 을 필수 파트로 제작하였을 때에 적용됩니다.

<br>

# Chapter 5.0.3

## Push notifications

<br>

웹소켓의 도움을 받아, 푸시 알림 기능을 만들어야 합니다. 두 가지 방식이 고려될 수 있습니다 :

- 필수 파트로 포럼 (게시판) 을 제작하였을 때, 새로운 게시글이 올라올 때마다 푸시 알림을 띄울 수 있습니다. 해당 알림에는 게시물의 제목이 최대 30글자까지 표현될 수 있습니다.

- 필수 파트로 메신저 (채팅방) 를 제작하였을 때, 새로운 메시지가 유저에게 도착하였을 때 푸시 알림을 띄울 수 있습니다. 해당 알림에는 보낸 유저의 이름과 메시지 컨텐츠가 최대 30글자까지 표현될 수 있습니다.

만약 메신저와 포럼을 둘 다 구현하셨다면, 푸시 알림은 둘 중 하나만 하셔도 충분합니다.

<br>

# Chapter 5.0.4

## SSL

<br>

HTTPS상에 사이트를 올리고, SSL 키와 인증서의 도움을 받아 WSS상에서 사용가능한 웹소켓을 사용해 보세요.

만약 사이트를 접근할 때 HTTP를 사용하면, HTTPS로 자동으로 리디렉션되어야 합니다.

<br>

# Chapter 5.0.5

## Package

<br>

어플리케이션을 제출할 때 패키지 형식으로 제출하여, pip을 통해 설치 및 빌드가 가능하도록 해 보세요.

<br>

# Chapter 5.0.6

## Voting System

<br>

유저들이 웹사이트상의 요소들에 대해 투표를 진행할 수 있도록 투표 시스템을 구현해 보세요.

투표는 추천 (Upvote) 과 비추천 (downbotes) 로 구분됩니다.

이 기능은 다음과 같은 특정 정보를 추가적으로 볼 수 있도록 해금합니다:

- 투표 버튼 (해당 요소에 대해 추천 또는 비추천을 누를 수 있는)

- 각 요소에 대한 투표 현황 (추천 비추천 둘 다)

- 현재 유저의 각 요소별 투표 현황 (추천을 눌렀는지, 비추를 눌렀는지, 아니면 안 했는지)

유저는 투표를 추천 / 비추천 중 한 가지만 할 수 있습니다. 두 버튼을 동시에 누를 수는 있어요.

같은 버튼을 두 번 연속으로 누르면 이전 투표 현황이 취소됩니다.

만약 추천을 누른 뒤 비추천을 누르면, 추천한 건 취소되고 비추천으로 변경됩니다. 반대도 가능해요.

버튼이 눌린 즉시, 정보가 화면상에서 변경되어야 합니다.

해당 시스템을 구현하셨다면, 포럼에서 테스트해 보세요. (게시물과 댓글 둘 다) 각 요소별로 적용된 투표 기능이 다른 요소의 투표 버튼을 방해하지 않도록, 각각이 멀쩡하게 동작하여야 합니다. (예를 들면, 한 요소에 대한 추천 버튼을 눌렀다고 해서 페이지상의 모든 요소들에 추천이 적용되면 안 됩니다.)
